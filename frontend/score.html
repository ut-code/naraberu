<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!--全ページ共通のCSS-->
    <link rel="stylesheet" type="text/css" href="css/base.css">
    <!--このページのCSS-->
    <link rel="stylesheet" type="text/css" href="css/selectlevel.css">
    <link rel="stylesheet" type="text/css" href="css/score.css">
    <!--Fontawesome-->
    <script src="https://kit.fontawesome.com/60ea5b1c05.js" crossorigin="anonymous"></script>        
    <title>スコア表示</title>
  </head>
  <body>
    <div class="header">
      <div class="button">
          <a href="selectlevel.html" style="text-decoration: none;">
              <div class="back">        
                  <i class="fa-solid fa-chevron-left"></i>
              </div>
          </a>
      </div>

      <div class="sectionTitle">
        あなたのスコア<br>
       <span class="subtitle">Your Score</span>
      </div>
    </div> 
    <div class="scoreSection">
      <div class="levelArea">
        <div id="theLevel"></div>
        <div id="levelLabel"></div>
      </div>
      <div class="scoreArea">
        <div id="theScore"></div>
      </div>
      <div class="footArea">
        <div id="word"></div>
        <div class="buttonBox">
          <div class="goNext">
            <div id="retry" onclick="goretry()"><img src="image/repeat.png" width="60%" height="60%"></div>
            <span class="labelNext">もう一度</span>
          </div>
          <div class="goNext">
            <div id="toNext" onclick="gotoNext()"><img src="image/arrow.png" width="60%" height="60%"></div>
            <span id="textNext" class="labelNext">次へ</span>
          </div>
        </div>
      </div>
    </div>
    <script>
      let getquery = location.search;  //パラメータ文字列を取得「?score=...&level=...」
      let querys = getquery.split("&");
      let score = querys[0].replace("?score=","");  //scoreを抽出
      let level = querys[1].replace("level=","");   //levelを抽出
      let levelTag = ['等差数列','階差数列','三項間漸化式'];

      let levelValue = document.getElementById("theLevel");
      levelValue.textContent = "Level "+level;
      let scoreValue = document.getElementById("theScore");
      scoreValue.textContent = score;
      let levelLabel = document.getElementById("levelLabel");
      levelLabel.textContent = levelTag[level-1];
      let NextButton = document.getElementById('toNext');
      let NextText = document.getElementById('textNext');
      if ( level == 3 ){
        NextButton.remove();
        NextText.remove();
      }

      function gotoNext(){
        let nextlevel = Number(level) + 1;
        document.location.href = "playing"+nextlevel+".html";
      }
      function goretry(){
        document.location.href = "playing"+level+".html";
      }
      
      let meigenList = [
        '万物の根源は数なり（ピタゴラス）',
        '数学とは生命の燃焼です（岡潔）',
        '数学の本体は調和の精神である（ポアンカレ）',
        '私は言葉を話す前から計算をしていた（ガウス）',
        '我々は知らねばならない、我々は知るであろう（ヒルベルト）'
      ];
      let dice = Math.floor( Math.random() * 5 );
      let getWord = document.getElementById("word");
      getWord.textContent = meigenList[dice];
    </script>
  </body>
</html>